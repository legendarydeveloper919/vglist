<h1 class="title"><%= t('.title', name: @application.name) %></h1>

<div class="row">
  <div class="col-md-8">
    <h4><%= t('.application_id') %>:</h4>
    <p><code class="bg-light user-select-all" id="application_id"><%= @application.uid %></code></p>

    <h4><%= t('.secret') %>:</h4>
    <p>
      <% if flash[:application_secret].present? %>
        <code class="bg-light user-select-all" id="secret">
          <%= flash[:application_secret].presence || @application.plaintext_secret %>
        </code>
      <% else %>
        You only get the application secret once. If you've lost it, you'll need to create a new application.
      <% end %>
    </p>

    <h4><%= t('.scopes') %>:</h4>
    <p><code class="bg-light" id="scopes"><%= @application.scopes.presence || raw('&nbsp;') %></code></p>

    <h4><%= t('.confidential') %>:</h4>
    <p><code class="bg-light" id="confidential"><%= @application.confidential? %></code></p>

    <h4><%= t('.callback_urls') %>:</h4>

    <table>
      <% @application.redirect_uri.split.each do |uri| %>
        <tr>
          <td>
            <code class="bg-light"><%= uri %></code>
          </td>
          <td>
            <%= link_to t('doorkeeper.applications.buttons.authorize'), oauth_authorization_path(client_id: @application.uid, redirect_uri: uri, response_type: 'code', scope: @application.scopes), class: 'btn btn-success', target: '_blank' %>
          </td>
        </tr>
      <% end %>
    </table>
  </div>

  <div class="col-md-4">
    <h3><%= t('.actions') %></h3>

    <%= link_to t('doorkeeper.applications.buttons.edit'), edit_oauth_application_path(@application), class: 'button is-primary' %>
    <%= link_to 'Delete', oauth_application_path(@application), method: :delete, data: { confirm: "Are you sure you want to delete this application?" }, class: "button is-danger" %>
  </div>
</div>
